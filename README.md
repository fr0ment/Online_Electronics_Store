Онлайн-магазин электроники

Описание проекта

Проект представляет собой REST API для онлайн-магазина электроники, разработанный на FastAPI. Реализован функционал управления товарами, заказами и отзывами с учетом ролей пользователей (покупатель, менеджер, администратор). Поддерживается пагинация, фильтрация, аутентификация, логирование и модерация отзывов.

Вариант: Онлайн-магазин электроники (Вариант 3).

Основной функционал:
1.Управление товарами (CRUD: создание, чтение, обновление, удаление).
2.Управление заказами (CRUD).
3.Управление отзывами с модерацией (администратор может одобрять/отклонять отзывы).
4.Аутентификация пользователей (JWT-токены).
5.Пагинация и фильтрация для товаров (по категории и минимальной цене).
6.Логирование всех операций.
7.Посев базы данных с тестовыми данными.

Используемые технологии
1.Python: 3.11
2.FastAPI: 0.115.0
3.SQLAlchemy: 2.0.31
4.Pydantic: 2.8.2
5.SQLite: для хранения данных (в продакшене можно заменить на PostgreSQL)
6.Passlib: для хеширования паролей
7.PyJWT: для аутентификации
8.Python-logging: для логирования
9.Alembic: для миграций базы данных

Инструкция по запуску
1.Клонируйте репозиторий:
git clone <repository_url>
cd electronics-store

2.Установите зависимости:
pip install -r requirements.txt

3.Настройте базу данных:
alembic upgrade head

4.Запустите приложение:
uvicorn main:app --host 0.0.0.0 --port 8000

5.Документация API доступна по адресу: http://localhost:8000/docs.

Описание API
1.Методология: REST API.
2.Способ передачи данных: JSON.
3.Документация: Интерактивная документация доступна через Swagger UI по адресу /docs.

Основные эндпоинты
1.Товары:
GET /api/products?page={page}&limit={limit}&category={category}&minPrice={minPrice} – Получение списка товаров с пагинацией и фильтрацией.
GET /api/products/{id} – Получение информации о товаре.
POST /api/products – Создание товара (менеджер/админ).
PUT /api/products/{id} – Обновление товара (менеджер/админ).
DELETE /api/products/{id} – Удаление товара (менеджер/админ).

2.Заказы:
GET /api/orders – Получение списка заказов (все для админа/менеджера, свои для покупателя).
GET /api/orders/{id} – Получение информации о заказе.
POST /api/orders – Создание заказа (покупатель).
PUT /api/orders/{id} – Обновление заказа (менеджер/админ).
DELETE /api/orders/{id} – Удаление заказа (админ).

3.Отзывы:
GET /api/reviews – Получение списка отзывов (только одобренные для покупателя).
GET /api/reviews/{id} – Получение информации об отзыве.
POST /api/reviews – Создание отзыва (покупатель).
PUT /api/reviews/{id} – Обновление отзыва (автор или админ).
DELETE /api/reviews/{id} – Удаление отзыва (автор или админ).
POST /api/reviews/{id}/moderate – Модерация отзыва (админ).

4.Аутентификация:
POST /api/auth/login – Вход в систему (возвращает JWT-токен).

Валидация ключевых эндпоинтов
GET /api/products:
page: целое число ≥ 1.
limit: целое число от 1 до 100.
category: строка (опционально).
minPrice: число ≥ 0 (опционально).
Ошибка 400 возвращается при неверных параметрах.

POST /api/products:
Поля: name (строка, не пустая), price (число > 0), category (строка), description (строка, опционально), stock (целое число ≥ 0).
Ошибка 400 при неверных данных.

POST /api/reviews:
Поля: product_id (существующий товар), rating (число от 1 до 5), text (строка, опционально).
Ошибка 400 при неверных данных.

Описание ролей пользователей
1.Покупатель:
Просмотр товаров и их отзывов.
Создание заказов и отзывов.
Просмотр своих заказов и отзывов.

2.Менеджер:
Управление товарами (CRUD).
Управление заказами (чтение/обновление).

3.Админ:
Полный доступ ко всем операциям.
Модерация отзывов (одобрение/отклонение).

Данные для входа
Посев базы данных включает пользователей:
Покупатель: login: buyer@example.com, password: Buyer123!
Менеджер: login: manager@example.com, password: Manager123!
Админ: login: admin@example.com, password: Admin123!

Логирование
Все операции логируются в файл app.log.
Логи включают: время, уровень, метод API, пользователь (если аутентифицирован), результат.

Контакты
Email: pasnhinilya2@gmsil.com
Разработчик: Паньшин Илья